let pokemonRepository = (function() {
    let e = [],
        t = "https://pokeapi.co/api/v2/pokemon/?limit=150"
    function n(t) {
        "object" == typeof t && "name" in t && "detailsUrl" in t
            ? e.push(t)
            : console.log(
                  "error/why is this appearing?.....because you used add() and it doesnt havea Url key"
              )
    }
    function o(e) {
        let t = e.detailsUrl
        return fetch(t)
            .then(function(e) {
                return e.json()
            })
            .then(function(t) {
                (e.imageUrl = t.sprites.front_default),
                    (e.height = t.height),
                    (e.weight = t.weight),
                    (e.types = []),
                    t.types.forEach(function(t) {
                        e.types.push(t.type.name)
                    })
            })
            .catch(function(e) {
                console.error(e)
            })
    }
    function i(e) {
        o(e).then(function() {
            !(function(e) {
                let t = $(".modal-title"),
                    n = $(".modal-body"),
                    o = $("<h2>" + e.name + "</h2>"),
                    i = $("<p>Height: " + e.height + "</p>"),
                    a = $("<p>Weight: " + e.weight + "</p>"),
                    p = $("<p>Types: " + e.types.join(", ") + "</p>"),
                    r = $("<img class='pokemon-modal-image'>")
                r.attr("src", e.imageUrl),
                    t.empty(),
                    n.empty(),
                    t.append(o),
                    n.append(r),
                    n.append(i),
                    n.append(a),
                    n.append(p)
            })(e)
        })
    }
    return {
        add: n,
        addListItem: function(e) {
            let t = document.querySelector(".list-group"),
                n = document.createElement("li"),
                o = document.createElement("button")
            ;(o.innerText = e.name),
                o.classList.add("btn-outline-dark"),
                n.classList.add("group-list-item"),
                n.appendChild(o),
                t.appendChild(n),
                o.addEventListener("click", function(t) {
                    i(e)
                })
        },
        loadList: function() {
            return fetch(t)
                .then(function(e) {
                    return e.json()
                })
                .then(function(e) {
                    e.results.forEach(function(e) {
                        n({ name: e.name, detailsUrl: e.url })
                    })
                })
                .catch(function(e) {
                    console.error(e)
                })
        },
        getAll: function() {
            return e
        },
        loadDetails: o,
        showDetails: i,
    }
})()
pokemonRepository.loadList().then(function() {
    pokemonRepository.getAll().forEach(function(e) {
        pokemonRepository.addListItem(e)
    })
})
